# 智能猫咪健康监护助手
基于 PyQt5 开发的猫咪健康管理工具，支持猫咪信息管理、单日健康记录录入、智能健康检测、历史健康信息查询，内置分级预警智能体，可汇总多维度异常并输出决策建议。

## 功能清单
✅ 基础功能
1. 添加猫咪基础信息（名字/品种/年龄）
2. 修改已添加的猫咪信息
3. 录入单日健康记录（饮食量/排便次数/精神状态）
4. 单日健康智能检测（多维度异常汇总，分级预警）

✅ 新增核心功能
5. 查询猫咪健康信息：可查看指定猫咪的**所有健康记录**（添加日期+记录详情）+ 每条记录对应的**智能检测结果**

## 环境要求
- Python 3.8 及以上版本
- 操作系统：Windows/macOS/Linux（Windows 兼容性最佳）

## 一键运行命令（复制粘贴即可）
### 1. 克隆仓库到本地（首次使用）
# 替换成你自己的仓库地址（Gitee/GitHub 均可）
git clone https://gitee.com/guorunquan/cat_health_agent.git  
# 进入项目文件夹
cd cat_health_agent

### 2. 安装依赖（PyQt5）
# 用清华源加速安装，避免国内网络超时
pip install pyqt5 -i https://pypi.tuna.tsinghua.edu.cn/simple

### 3. 初始化数据库（自动创建空数据库）
python create_db.py

### 4. 启动程序（弹出图形界面）
python main_app.py

## 核心智能体规则（检测逻辑）
| 检测维度   | 一级预警（紧急）| 二级预警（注意）|
|------------|---------------------------------------|---------------------------------------|
| 精神状态   | 萎靡 → 建议立即观察/就医              | 一般 → 建议增加互动、监测状态         |
| 饮食量（g）| <30 → 建议更换食物、检查口腔          | >200 → 建议控制喂食量、避免消化不良   |
| 排便次数   | 0 → 建议增加饮水量、喂猫草            | ≥5 → 建议检查粪便、警惕腹泻           |

## 完整演示步骤（快速体验所有功能）
### 步骤1：添加猫咪信息
1. 运行程序后，点击「添加猫咪信息」；
2. 输入：名字“大咪”、品种“橘猫”、年龄2 → 确认，提示“添加成功”。

### 步骤2：修改猫咪信息（可选）
1. 点击「修改猫咪信息」；
2. 选择“大咪 (ID:1)”→ 修改名字为“招财”→ 确认，提示“修改成功”。

### 步骤3：添加单日健康记录
1. 点击「添加单日健康记录」；
2. 选择“招财 (ID:1)”→ 输入：
   - 日期：2025-10-01
   - 饮食量：20g
   - 排便次数：0
   - 精神状态：萎靡
3. 确认，提示“添加成功”；
4. 再添加1条正常记录（日期2025-09-30、饮食80g、排便2次、精神活跃）。

### 步骤4：单日健康检测
1. 点击「单日健康检测」；
2. 选择“招财 (ID:1)”→ 文本框显示异常汇总结果（一级预警）。

### 步骤5：查询健康信息（新增功能）
1. 点击「查询猫咪健康信息」；
2. 选择“招财 (ID:1)”→ 文本框显示：
   - 猫咪基础信息
   - 所有健康记录（按日期倒序）
   - 每条记录对应的智能检测结果。

## 输出示例（查询功能）
🐱 猫咪信息：蒸蚌（品种：三花，年龄：3岁）

📜 健康记录汇总（按日期倒序）：
----------------------------------------
【第1条记录】
日期：2026-1-2
健康记录：饮食100.0g | 排便2次 | 精神状态活跃
检测结果：✅ 【健康评估】单日状态无异常
建议：保持当前养护节奏，每日固定记录
----------------------------------------
【第2条记录】
日期：2026-1-1
健康记录：饮食20.0g | 排便0次 | 精神状态萎靡
检测结果：🚨 【一级紧急预警】
精神状态萎靡：立即观察是否有呕吐/腹泻，24小时无好转请就医
• 饮食量极低（20.0g＜30g）：更换适口性好的食物，检查口腔是否有炎症
• 未排便：增加饮水量，喂食少量猫草/化毛膏

📌 【总结】请优先处理一级预警问题，持续监测
----------------------------------------
## 注意事项
1. 数据库文件会自动生成在 `db/cat_health.db`，无需手动创建；
2. 所有健康记录按日期倒序展示，最新记录优先；
3. 查询功能会自动为每条历史记录生成对应的智能检测结果，无需重复检测；
4. 若运行程序提示 `ModuleNotFoundError: No module named 'PyQt5'`，重新执行 `pip install pyqt5` 即可。
